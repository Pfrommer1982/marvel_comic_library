import{d as v,r as m,o as s,c as r,a as e,t as f,n as x,b as _,F as $,e as k,p as B,f as I,_ as V,w as D,g as N,v as q,u as E,h as F,i as T,j as L,k as M,l as b,m as w,L as P,q as R,s as S,x as z}from"./index-A1JpjlmN.js";const C=i=>(B("data-v-3ea89a9f"),i=i(),I(),i),A=["id"],O=["src"],Q={class:"p-4"},U={class:"card-title"},Z={key:0},G={class:"accordion mt-2"},H={class:"accordion-item"},J={class:"accordion-title"},K=C(()=>e("span",null,"Description",-1)),W={key:1,class:"mt-auto -pl-2"},X=C(()=>e("h3",{class:"text-md font-semibold mt-2"},"Featured in:",-1)),Y={class:"flex flex-wrap mt-2"},ee=v({__name:"CharacterCard",props:{character:{}},setup(i){const o=m(!1),l=()=>{o.value=!o.value};return(t,c)=>(s(),r("div",{class:"card glass shadow-xl text-white",id:`${t.character.id}`},[e("figure",null,[e("img",{src:`${t.character.thumbnail.path}.${t.character.thumbnail.extension}`,alt:"Character",class:"w-full h-64 object-cover"},null,8,O)]),e("div",Q,[e("h2",U,f(t.character.name),1),t.character.description?(s(),r("div",Z,[e("div",G,[e("div",H,[e("h3",J,[e("button",{type:"button",class:"flex items-center",onClick:l},[K,e("span",{class:x([{"rotate-180":o.value},"ml-2 transition-transform"])},"â–¼",2)])]),e("div",{class:x(["accordion-content",{hidden:!o.value}])},[e("p",null,f(t.character.description),1)],2)])])])):_("",!0),t.character.stories.available>0?(s(),r("div",W,[X,e("div",Y,[(s(!0),r($,null,k(t.character.stories.items.slice(0,2),(a,u)=>(s(),r("span",{key:u,class:"tag flex justify-center items-center bg-[#EC1E24] text-white px-2 py-1 m-1 rounded"},f(a.name),1))),128))])])):_("",!0)])],8,A))}}),te=V(ee,[["__scopeId","data-v-3ea89a9f"]]),se={class:"w-full flex justify-center items-center mb-10"},ae=e("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only"},"Search",-1),re={class:"relative"},oe=e("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),ce=["disabled"],ne=["disabled"],ie=v({__name:"SearchForm",props:{isSearching:{type:Boolean}},emits:["searchSubmit"],setup(i,{emit:o}){const l=o,t=m("");let c;const a=()=>{l("searchSubmit",t.value)},u=()=>{clearTimeout(c),c=setTimeout(async()=>{a()},500)};return D(t,()=>{u()}),(d,p)=>(s(),r("form",se,[ae,e("div",re,[oe,N(e("input",{type:"search",id:"default-search",class:"block w-full py-3 px-60 ps-10 text-sm text-gray-900 border border-gray-300 rounded bg-gray-50 focus:outline-none",placeholder:"Search Marvel Characters",required:"","onUpdate:modelValue":p[0]||(p[0]=g=>t.value=g),disabled:d.isSearching,autocomplete:"off"},null,8,ce),[[q,t.value]]),e("button",{type:"submit",class:"text-white absolute end-2.5 bottom-1.5 bg-red-600 hover:bg-red-600 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-md text-sm px-4 py-2",disabled:d.isSearching},"Search ",8,ne)])]))}}),le={class:"m-4"},ue={key:1},de={class:"grid grid-flow-row shrink grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 w-full max-w-screen-xl"},he={key:2,class:"flex flex-col items-center justify-center p-4 pt-16 min-h-min min-w-screen mx-4"},pe={class:"mb-4"},me={class:"font-bold"},_e=v({__name:"SearchCharacter",setup(i){const o=E(),l=F(),t=m(""),c=m(!1),a=T([]),u=L(()=>l.query.page?parseInt(l.query.page):0),d=m(0),p=async(h,y=0)=>{try{if(h!==""){c.value=!0,t.value=h;const n=await z(h,y);d.value=Math.ceil(n.total/n.limit),a.length=0,a.push(...n.results),c.value=!1}else g()}catch(n){o.push({path:"/error",query:{info:n}})}},g=()=>{t.value="",d.value=0,a.length=0},j=h=>{p(h)};return M(()=>{p(t.value,u.value)}),(h,y)=>(s(),r("div",le,[b(ie,{"is-searching":c.value,onSearchSubmit:j},null,8,["is-searching"]),c.value?(s(),w(P,{key:0,text:`Searching by '${t.value}'...`},null,8,["text"])):_("",!0),a&&a.length>0&&!c.value?(s(),r("div",ue,[e("div",de,[(s(!0),r($,null,k(a,n=>(s(),w(te,{character:n,key:n.id},null,8,["character"]))),128))]),b(R,{"total-pages":d.value,path:`/search/${t.value}/`,"current-page":u.value},null,8,["total-pages","path","current-page"])])):_("",!0),a&&a.length===0&&t.value?(s(),r("div",he,[e("div",pe,[e("p",null,[S(' Nothing found for "'),e("em",me,f(t.value),1),S('". Please try again! ')])])])):_("",!0)]))}}),fe={class:"search absolute w-full h-full flex justify-center items-start -mt-8"},ge=v({__name:"SearchView",setup(i){return(o,l)=>(s(),r("div",fe,[b(_e)]))}});export{ge as default};
